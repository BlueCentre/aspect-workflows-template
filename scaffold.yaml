messages:
  pre: |
    # Aspect starter

    Generate boilerplate code for a new Bazel project using Aspect CLI

  post: |
    # Get Started

    ```sh
    cd {{ .ProjectSnake }}
    {{- if .Scaffold.fmt }}
    aspect run format
    {{- end }}
    aspect test ...
    ```
questions:
  - name: fmt
    prompt:
      confirm: "Setup formatter?"
  - name: langs
    prompt:
      multi: true
      message: "Languages to be used in the project"
      options:
        - JavaScript & TypeScript
        - Python

features:
  - value: "{{ .Scaffold.fmt }}"
    globs:
      - "**/tools/format/*"
  - value: "{{ .Computed.javascript }}"
    globs:
      - "*/package.json"
      - "*/pnpm-*.yaml"
      - "*/.npmrc"
      - "**/packages/**"
  - value: "{{ .Computed.python }}"
    globs:
      - "*/requirements.txt"
      - "*/requirements_lock.txt"

computed:
  javascript: "{{ has \"JavaScript & TypeScript\" .Scaffold.langs }}"
  python: "{{ has \"Python\" .Scaffold.langs }}"

presets:
  kitchen-sink:
    fmt: true
    langs: ['JavaScript & TypeScript', 'Python']
  js:
    fmt: true
    langs: ['JavaScript & TypeScript']
  py:
    fmt: true
    langs: ['Python']
  minimal:
    fmt: false
    langs: []
